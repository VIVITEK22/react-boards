import{r as x,j as r}from"./index-CT-B3oQy.js";import{u as p,B as h,a as y,j as D,c as j,b as L,d as B,V as P,f as w}from"./boards-sidebar-B_-615tp.js";const C=864e5,c=Symbol.for("constructDateFrom");function f(t,s){return typeof t=="function"?t(s):t&&typeof t=="object"&&c in t?t[c](s):t instanceof Date?new t.constructor(s):new Date(s)}function m(t,s){return f(t,t)}function u(t){const s=m(t),e=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()));return e.setUTCFullYear(s.getFullYear()),+t-+e}function F(t,...s){const e=f.bind(null,s.find(i=>typeof i=="object"));return s.map(e)}function l(t,s){const e=m(t);return e.setHours(0,0,0,0),e}function M(t,s,e){const[i,o]=F(e==null?void 0:e.in,t,s),n=l(i),a=l(o),d=+n-u(n),g=+a-u(a);return Math.round((d-g)/C)}function b(t){const s=new Date,e=[{title:"Сегодня",items:[]},{title:"Вчера",items:[]},{title:"На этой неделе",items:[]},{title:"Давно",items:[]}];return t.forEach(i=>{const o=new Date(i.lastOpenedAt),n=M(s,o);n===0?e[0].items.push(i):n===1?e[1].items.push(i):n<7?e[2].items.push(i):e[3].items.push(i)}),e}function O(){const[t,s]=x.useState("list"),e=p({limit:12,sort:"lastOpenedAt"}),i=b(e.boardsList);return r.jsx(h,{sidebar:r.jsx(w,{}),header:r.jsx(B,{title:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Последние доски"}),r.jsx(P,{value:t,onChange:s})]})}),content:r.jsx(y,{isPending:e.isPending,isFetchingNextPage:e.isFetchingNextPage,hasNextPage:e.hasNextPage,cursorRef:e.cursorRef,isEmpty:e.boardsList.length===0&&!e.isPending,viewMode:t,children:r.jsx(D,{isPending:e.isPending,groups:i.map(o=>({title:o.title,items:{grid:o.items.map(n=>r.jsx(L,{board:n},n.id)),list:o.items.map(n=>r.jsx(j,{board:n},n.id))}[t]})),viewMode:t})})})}export{O as default};
