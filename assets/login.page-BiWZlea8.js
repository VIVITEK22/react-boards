import{S as g,T as h,N as t,U as p,j as s,V as f,W as l,X as m,Y as c,Z as d,I as u,_ as x,B as b,$ as F,a0 as S,a1 as j,L,J as T}from"./index-C_rV8sod.js";import{A as y}from"./auth-layout-BJR2yCoq.js";function E(){var n,e;const{login:r}=g(),o=h.useMutation("post","/auth/login",{onSuccess(i){r(i.accessToken)}}),a=i=>{o.mutate({body:i})};return(n=o.error)!=null&&n.message&&t.getToasts().length<1&&t.error((e=o.error)==null?void 0:e.message),{handleSubmit:a,isPending:o.isPending}}const R=S({email:j({required_error:"Email обязателен"}).email("Неверный email"),password:j({required_error:"Пароль обязателен"}).min(6,"Пароль должен содержать не менее 6 символов")});function w(){const r=p({resolver:F(R),defaultValues:{email:"",password:""}}),{handleSubmit:o,isPending:a}=E(),n=r.handleSubmit(e=>o(e));return s.jsx(f,{...r,children:s.jsxs("form",{onSubmit:n,className:"flex flex-col gap-5",children:[s.jsx(l,{control:r.control,name:"email",render:({field:e})=>s.jsxs(m,{children:[s.jsx(c,{children:"Email"}),s.jsx(d,{children:s.jsx(u,{placeholder:"admin@gmail.com",...e})}),s.jsx(x,{})]})}),s.jsx(l,{control:r.control,name:"password",render:({field:e})=>s.jsxs(m,{children:[s.jsx(c,{children:"Пароль"}),s.jsx(d,{children:s.jsx(u,{type:"password",...e})}),s.jsx(x,{})]})}),s.jsx(b,{type:"submit",className:"cursor-pointer",disabled:a,children:"Вход"})]})})}function U(){return s.jsx(y,{cardTitle:"Вход в систему",cardDescription:"Введите ваш email и пароль для входа в систему",form:s.jsx(w,{}),footer:s.jsxs(s.Fragment,{children:["Нет аккаунта? ",s.jsx(L,{to:T.REGISTER,children:"Зарегистрироваться"})]})})}export{U as default};
