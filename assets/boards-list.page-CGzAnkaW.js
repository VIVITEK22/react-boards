import{c as u,a as l,r as x,j as s,B as h}from"./index-CT-B3oQy.js";import{u as B,a as g,B as L,b as j}from"./boards-list-sort-Dc4bnC0f.js";import{p as n,u as p,B as y,a as m,b,c as f,d as C,V as P,e as S,f as F}from"./boards-sidebar-B_-615tp.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],N=u("plus",M);function v(){const r=l();return{createBoard:n.useMutation("post","/boards",{onSettled:async()=>{await r.invalidateQueries(n.queryOptions("get","/boards"))}}).mutateAsync}}function q({templateGallery:r,templateModalCreate:o}){const a=B(),[i,d]=x.useState("list"),{createBoard:c}=v(),e=p({limit:12,search:g(a.search,500),sort:a.sort});return s.jsx(y,{templateGallery:r,sidebar:s.jsx(F,{}),header:s.jsx(C,{title:s.jsx("h1",{className:"text-2xl font-bold",children:"Список досок"}),filters:s.jsx(S,{sort:s.jsx(j,{sort:a.sort,setSort:a.setSort}),filters:s.jsx(L,{search:a.search,setSearch:a.setSearch})}),actions:s.jsxs(s.Fragment,{children:[o({onCreate:async({name:t})=>await c({body:{name:t}}),triggerButton:s.jsxs(h,{children:[s.jsx(N,{}),"Создать доску"]})}),s.jsx(P,{value:i,onChange:d})]})}),content:s.jsx(m,{isPending:e.isPending,isFetchingNextPage:e.isFetchingNextPage,hasNextPage:e.hasNextPage,cursorRef:e.cursorRef,isEmpty:e.boardsList.length===0&&!e.isPending,viewMode:i,renderList:()=>e.boardsList.map(t=>s.jsx(f,{board:t},t.id)),renderGrid:()=>e.boardsList.map(t=>s.jsx(b,{board:t},t.id))})})}export{q as default};
